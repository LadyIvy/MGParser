=begin
TODO
1 add snmp procedure to enable syslog on media gateway
  -procedure will need ip of gateway as argument DONE
  -it will set syslog server ip and port based on host's ip an default port 514 DONE
  -user should be able to provide alternative port DONE
  -when disconneciong should set diagnosticTracesEnable to 0
   
2 add EventMachine to manage remote syslog from gateway
  -need to check for host's ip and use it to listen for incoming data on syslog port DONE
  -data should be parsed line by line and output printed to stdout
  -each line should have sourceID and finaldestID as prefix
  -each line will be analyzed in the following way:
    Check for CreateCall, split callid and assign the two values to 2 variables: sourceID and destID DONE
    Check e164 arguments in callrouter to retrieve calling and called numbers (Src(CID must correspond to SourceID) and Dst(CID must correspond to DestID))
    Check IID argument in callrouter's Src (CID must correspond to sourceID) this will help to understand if the call was originated from isdn or sip side
    Calculate finaldestID which will be our new reference point for capturing events (each step in callrouter adds +1 to the original destID)
    When CallManager sends a setup referred to finaldestID we can inform user that isdn setup has been sent to the operator or SIP server depending on what kind of source we found in step 3
    Check call manager for CallProgress events related to both finaldestID and sourceID and inform user that call is proceeding (CallProgress messages are related to both "proceeding indication" and "progress indication" )
  
3 add option parser:
  -ip of isdn gateway address DONE
  -analyze log instead of gatewy if file is passed

outbound call (two initial ids + 1 additional id added when exiting from call router): 
Jan  2 08:45:45 syslog: CallTable [DAD8] CreateCall - Interface sip-bri0_0_0 create call 27-28.

Jan  2 08:45:45 syslog: CallRouter [DAE0] Call 27-28 enter in callrouter:
Jan  2 08:45:45 syslog: CallRouter [DAE1] Src=[CID:27 IID:sip-bri0_0_0 CP:itc=speech,date=02.01.2000 UTC,time=07:45:22 UTC,e164=109,name=Dawid Pogorzelski,host=213.21.144.17,uri=sip:109@213.21.144.17:5060,domain=,localip=192.168.222.162,hostname=,sipfrom="Dawid Pogorzelski" <sip:109@213.21.144.17:5060>,sipfromfn=Dawid Pogorzelski,sipfromhst=213.21.144.17,sipfromusr=109,siprqt=sip:3458579215@192.168.222.162:5060,siprqthst=192.168.222.162,siprqtusr=3458579215,sipto="" <sip:bri0_0_0@213.21.144.17:5060>,siptohst=213.21.144.17,siptousr=bri0_0_0,usr=109,]
Jan  2 08:45:45 syslog: CallRouter [DAE2] Dst1/1=[CID:28 IID:- CP:e164=3458579215,host=192.168.222.162:5060,uri=sip:3458579215@192.168.222.162:5060,usr=3458579215,]
Jan  2 08:45:45 syslog: CallRouteTable [DAE3] Handle Call 27-28.

Jan  2 08:45:45 syslog: CallRouter [DAF4] Call 27-28  exit from callrouter:
Jan  2 08:45:45 syslog: CallRouter [DAF5] Src=[CID:27 IID:sip-bri0_0_0 CP:itc=speech,ed=1,date=02.01.2000 UTC,time=07:45:22 UTC,allow180sdp=1,allow183nosdp=1,sippriv=none,e164=109,name=Dawid Pogorzelski,host=213.21.144.17,uri=sip:109@213.21.144.17:5060,domain=,localip=192.168.222.162,hostname=,sipfrom="Dawid Pogorzelski" <sip:109@213.21.144.17:5060>,sipfromfn=Dawid Pogorzelski,sipfromhst=213.21.144.17,sipfromusr=109,siprqt=sip:3458579215@192.168.222.162:5060,siprqthst=192.168.222.162,siprqtusr=3458579215,sipto="" <sip:bri0_0_0@213.21.144.17:5060>,siptohst=213.21.144.17,siptousr=bri0_0_0,usr=109,]
Jan  2 08:45:45 syslog: CallRouter [DAF6] Dst1/2=[CID:28 IID:- CP:ec=0,ed=1,sippriv=none,e164=3458579215,host=,uri=sip:3458579215@192.168.222.162:5060,usr=3458579215,]
Jan  2 08:45:45 syslog: CallRouter [DAF7] Dst2/2=[CID:29 IID:isdn-Bri1 CP:ec=0,ed=1,sippriv=none,e164=3458579215,host=,uri=sip:3458579215@192.168.222.162:5060,usr=3458579215,]
Jan  2 08:45:45 syslog: CallTable [DAF8] UseNextDestination - Call 27-29 use new destination isdn-Bri1.


=end

